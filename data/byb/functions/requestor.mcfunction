##########################################
# Author: MadCat (youtube.com/MadCatHoG) 
# Date: March 26, 2020
# Version: 1.0
# Minecraft Version 1.13 / 1.14 / 1.15 / 1.16
##########################################

# Timer starts
scoreboard players set #starttimer BYB.requests 1

# Sending request to all other players

# Case Overworld to Overworld
execute if entity @s[scores={tp=1},nbt={Dimension:0}] run execute if entity @a[scores={tp=0},nbt={Dimension:0}] run execute as @s[scores={tp=1}] run tellraw @a[scores={tp=0}] ["",{"text":"\n"},{"text":"Teleport requested by ","bold":true,"color":"aqua"},{"selector":"@s"},{"text":"\n"},{"text":"This player is in ","italic":true,"color":"gray"},{"text":"The Overworld","italic":true,"bold":"true","color":"gray"},{"text":"\n"},{"text":"[Click ","color":"green"},{"text":"here","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" to bring your buddy (Costs ","color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"score":{"name":"Ovw2Ovw","objective":"BYB.levels"},"bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" levels","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":")]","color":"green"},{"text":"\n "}]

# Case Overworld to The Nether
execute if entity @s[scores={tp=1},nbt={Dimension:0}] run execute if entity @a[scores={tp=0},nbt={Dimension:-1}] run execute as @s[scores={tp=1}] run tellraw @a[scores={tp=0}] ["",{"text":"\n"},{"text":"Teleport requested by ","bold":true,"color":"aqua"},{"selector":"@s"},{"text":"\n"},{"text":"This player is in ","italic":true,"color":"gray"},{"text":"The Overworld","italic":true,"bold":"true","color":"gray"},{"text":"\n"},{"text":"[Click ","color":"green"},{"text":"here","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" to bring your buddy (Costs ","color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"score":{"name":"Ovw2Nether","objective":"BYB.levels"},"bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" levels","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":")]","color":"green"},{"text":"\n "}]

# Case Overworld to The End
execute if entity @s[scores={tp=1},nbt={Dimension:0}] run execute if entity @a[scores={tp=0},nbt={Dimension:1}] run execute as @s[scores={tp=1}] run tellraw @a[scores={tp=0}] ["",{"text":"\n"},{"text":"Teleport requested by ","bold":true,"color":"aqua"},{"selector":"@s"},{"text":"\n"},{"text":"This player is in ","italic":true,"color":"gray"},{"text":"The Overworld","italic":true,"bold":"true","color":"gray"},{"text":"\n"},{"text":"[Click ","color":"green"},{"text":"here","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" to bring your buddy (Costs ","color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"score":{"name":"Ovw2End","objective":"BYB.levels"},"bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" levels","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":")]","color":"green"},{"text":"\n "}]

# Case Nether to Overworld
execute if entity @s[scores={tp=1},nbt={Dimension:-1}] run execute if entity @a[scores={tp=0},nbt={Dimension:0}] run execute as @s[scores={tp=1}] run tellraw @a[scores={tp=0}] ["",{"text":"\n"},{"text":"Teleport requested by ","bold":true,"color":"aqua"},{"selector":"@s"},{"text":"\n"},{"text":"This player is in ","italic":true,"color":"gray"},{"text":"The Nether","italic":true,"bold":"true","color":"gray"},{"text":"\n"},{"text":"[Click ","color":"green"},{"text":"here","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" to bring your buddy (Costs ","color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"score":{"name":"Nether2Ovw","objective":"BYB.levels"},"bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" levels","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":")]","color":"green"},{"text":"\n "}]

# Case Nether to Nether
execute if entity @s[scores={tp=1},nbt={Dimension:-1}] run execute if entity @a[scores={tp=0},nbt={Dimension:-1}] run execute as @s[scores={tp=1}] run tellraw @a[scores={tp=0}] ["",{"text":"\n"},{"text":"Teleport requested by ","bold":true,"color":"aqua"},{"selector":"@s"},{"text":"\n"},{"text":"This player is in ","italic":true,"color":"gray"},{"text":"The Nether","italic":true,"bold":"true","color":"gray"},{"text":"\n"},{"text":"[Click ","color":"green"},{"text":"here","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" to bring your buddy (Costs ","color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"score":{"name":"Nether2Nether","objective":"BYB.levels"},"bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" levels","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":")]","color":"green"},{"text":"\n "}]

# Case Nether to The End
execute if entity @s[scores={tp=1},nbt={Dimension:-1}] run execute if entity @a[scores={tp=0},nbt={Dimension:1}] run execute as @s[scores={tp=1}] run tellraw @a[scores={tp=0}] ["",{"text":"\n"},{"text":"Teleport requested by ","bold":true,"color":"aqua"},{"selector":"@s"},{"text":"\n"},{"text":"This player is in ","italic":true,"color":"gray"},{"text":"The Nether","italic":true,"bold":"true","color":"gray"},{"text":"\n"},{"text":"[Click ","color":"green"},{"text":"here","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" to bring your buddy (Costs ","color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"score":{"name":"Nether2End","objective":"BYB.levels"},"bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" levels","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":")]","color":"green"},{"text":"\n "}]

# Case End to the overworld
execute if entity @s[scores={tp=1},nbt={Dimension:1}] run execute if entity @a[scores={tp=0},nbt={Dimension:0}] run execute as @s[scores={tp=1}] run tellraw @a[scores={tp=0}] ["",{"text":"\n"},{"text":"Teleport requested by ","bold":true,"color":"aqua"},{"selector":"@s"},{"text":"\n"},{"text":"This player is in ","italic":true,"color":"gray"},{"text":"The End","italic":true,"bold":"true","color":"gray"},{"text":"\n"},{"text":"[Click ","color":"green"},{"text":"here","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" to bring your buddy (Costs ","color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"score":{"name":"End2Ovw","objective":"BYB.levels"},"bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" levels","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":")]","color":"green"},{"text":"\n "}]

# Case End to the nether
execute if entity @s[scores={tp=1},nbt={Dimension:1}] run execute if entity @a[scores={tp=0},nbt={Dimension:-1}] run execute as @s[scores={tp=1}] run tellraw @a[scores={tp=0}] ["",{"text":"\n"},{"text":"Teleport requested by ","bold":true,"color":"aqua"},{"selector":"@s"},{"text":"\n"},{"text":"This player is in ","italic":true,"color":"gray"},{"text":"The End","italic":true,"bold":"true","color":"gray"},{"text":"\n"},{"text":"[Click ","color":"green"},{"text":"here","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" to bring your buddy (Costs ","color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"score":{"name":"End2Nether","objective":"BYB.levels"},"bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" levels","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":")]","color":"green"},{"text":"\n "}]

# Case End to the nether
execute if entity @s[scores={tp=1},nbt={Dimension:1}] run execute if entity @a[scores={tp=0},nbt={Dimension:1}] run execute as @s[scores={tp=1}] run tellraw @a[scores={tp=0}] ["",{"text":"\n"},{"text":"Teleport requested by ","bold":true,"color":"aqua"},{"selector":"@s"},{"text":"\n"},{"text":"This player is in ","italic":true,"color":"gray"},{"text":"The End","italic":true,"bold":"true","color":"gray"},{"text":"\n"},{"text":"[Click ","color":"green"},{"text":"here","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" to bring your buddy (Costs ","color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"score":{"name":"End2End","objective":"BYB.levels"},"bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":" levels","bold":true,"color":"green","clickEvent":{"action":"run_command","value":"/scoreboard players set @s BYB.requests 1"}},{"text":")]","color":"green"},{"text":"\n "}]

execute as @s[scores={tp=1}] run tellraw @s ["",{"text":"Request sent to all players. Expires in ","color":"gray","italic":"true"},{"score":{"name":"#limit_s","objective":"BYB.requests"},"bold":true,"color":"green"}, {"text":" seconds","color":"gray","italic":"true"}]
execute as @s[scores={tp=1}] run scoreboard players reset @a[scores={tp=0}] tp
scoreboard players set @s[scores={tp=1}] tp 2
